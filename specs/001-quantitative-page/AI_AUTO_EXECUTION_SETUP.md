# AI 自动执行设置说明

## ⚠️ 重要说明：IDE 安全机制

**Cursor IDE 会询问是否允许执行外部命令（如 `npm`），这是 IDE 层面的安全控制，无法通过配置文件完全绕过。**

## 🔧 解决方案

### 方法1：一次性授权（推荐）

当 Cursor 询问 `Allow execution of: 'npm'?` 时：

1. **选择 "Yes, allow always"** - 永久允许 npm 命令
2. 之后所有 npm 命令都会自动执行，不再询问

### 方法2：逐个授权

如果不想永久授权，可以：
- 每次选择 "Yes, allow once" - 仅本次允许
- 但每次执行新命令时仍会询问

## 📋 需要授权的常见命令

以下命令首次执行时可能需要授权：

- `npm` - Node.js 包管理器
- `yarn` - Yarn 包管理器
- `pip` - Python 包管理器
- `git` - Git 版本控制（通常已授权）
- `docker` - Docker 容器（如果使用）
- `kubectl` - Kubernetes（如果使用）

## ✅ 授权后的行为

授权后，AI 会：

1. ✅ **自动执行命令** - 无需询问
2. ✅ **自动处理交互式提示** - 使用管道或非交互式标志
3. ✅ **自动选择默认选项** - 对于 Yes/No 提示
4. ✅ **报告执行结果** - 显示命令输出和错误

## 🚫 仍然会询问的情况

即使授权后，以下情况仍会询问：

- ❌ `rm -rf` - 删除目录（破坏性操作）
- ❌ `git push --force` - 强制推送（可能覆盖远程）
- ❌ `sudo` - 系统级操作（需要管理员权限）

## 📝 配置文件说明

项目中的配置文件（`.cursorrules`, `GEMINI.md`）用于：

1. **指导 AI 行为** - 告诉 AI 如何自动处理命令
2. **处理交互式提示** - 使用管道自动回答 Yes/No
3. **选择默认选项** - 对于需要选择的命令

但这些配置**无法绕过 IDE 的安全机制**，首次执行外部命令时仍需要授权。

## 🎯 最佳实践

1. **首次使用时**：选择 "Yes, allow always" 授权常用命令（npm, yarn 等）
2. **信任项目**：如果这是你自己的项目，可以放心授权
3. **查看命令**：执行前 AI 会显示完整命令，可以检查后再授权
4. **撤销授权**：如果误授权，可以在 Cursor 设置中撤销

## 💡 提示

- 授权是**按命令类型**的（如 `npm`），不是按具体命令
- 授权后，所有 `npm` 相关命令都会自动执行
- 如果担心安全，可以先选择 "Yes, allow once" 测试

---

**总结**：选择 "Yes, allow always" 一次，之后所有命令都会自动执行！🚀

