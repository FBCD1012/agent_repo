# 开发计划: 量化页面系统

本文档根据 `spec.md` 的要求，规划了“量化页面系统”前端应用的开发步骤。

## 1. 环境搭建与技术选型

- **前端框架**: 使用 `React` (Vite + TypeScript) 构建现代化的单页应用 (SPA)。
- **UI 组件库**: 选择 `Material-UI (MUI)` 来快速搭建专业、美观的用户界面，包括布局、卡片、表格等。
- **图表库**: 采用 `ECharts for React` (`echarts-for-react`) 来实现功能强大的K线图表和其他数据可视化。
- **项目初始化**:
  - 在 `/Users/dongqing/FBCD/` 目录下创建名为 `quantitative-platform` 的新项目。
  - 安装核心依赖: `@mui/material`, `@emotion/react`, `@emotion/styled`, `echarts-for-react`。

## 2. 功能实现步骤

将按照 `spec.md` 中定义的用户故事优先级进行开发。

### 第一阶段 (P1): 实时交易数据

- **目标**: 实现 `User Story 1`，展示核心的实时市场数据。
- **任务**:
  1. **创建 `MarketData` 组件**: 用于展示单个交易对的实时信息（价格、涨跌幅、成交量）。
  2. **模拟数据流**: 使用 `setInterval` 在前端模拟一个假 `WebSocket` 连接，每3秒推送一次新的模拟市场数据。
  3. **实现UI状态**: 根据 `spec.md` 的要求，处理数据加载、显示、错误和网络断开等不同状态下的UI反馈。
  4. **布局**: 使用 `MUI` 的 `Grid` 和 `Card` 组件将多个交易对数据整齐地排列在页面上。

### 第二阶段 (P2): K线图表

- **目标**: 实现 `User Story 2`，提供K线图进行技术分析。
- **任务**:
  1. **创建 `CandleChart` 组件**: 封装 `echarts-for-react`，用于显示K线图。
  2. **模拟历史数据**: 创建一个前端服务，根据请求的时间周期（1m, 5m, 1h, 1d）返回对应的模拟K线数据。
  3. **实现交互**: 添加用于切换不同时间周期的 `Button` 或 `ButtonGroup` 控件。
  4. **集成**: 将 `CandleChart` 组件集成到主仪表盘页面。

### 第三阶段 (P3): 持仓信息

- **目标**: 实现 `User Story 3`，让用户可以查看自己的持仓。
- **任务**:
  1. **创建 `Positions` 组件**: 使用 `MUI` 的 `Table` 组件来展示持仓列表。
  2. **模拟持仓数据**: 创建模拟的持仓数据，包含交易对、数量、成本价、盈亏等信息。
  3. **数据格式化与排序**: 根据 `spec.md` 的假设，对价格、百分比等数据进行格式化，并默认按盈亏比例进行排序。
  4. **空状态处理**: 如果持仓数据为空，显示“暂无持仓”的友好提示。

## 3. 整合与交付

- **组装仪表盘**: 将上述所有组件 (`MarketData`, `CandleChart`, `Positions`) 整合到一个统一的仪表盘视图中。
- **创建 `tasks.md`**: 生成一份详细的任务清单，用于跟踪每个具体开发任务的进度。
- **验证**: 确保项目可以通过 `npm run dev` 正常启动，并且所有功能符合 `spec.md` 的验收标准。
